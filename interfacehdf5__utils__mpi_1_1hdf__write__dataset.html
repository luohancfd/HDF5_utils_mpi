<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HDF5 utilities: hdf5_utils_mpi::hdf_write_dataset Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HDF5 utilities
   </div>
   <div id="projectbrief">my own Fortran high level interface for HDF5</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacehdf5__utils__mpi.html">hdf5_utils_mpi</a></li><li class="navelem"><a class="el" href="interfacehdf5__utils__mpi_1_1hdf__write__dataset.html">hdf_write_dataset</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="interfacehdf5__utils__mpi_1_1hdf__write__dataset-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">hdf5_utils_mpi::hdf_write_dataset Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Generic interface to write a dataset Supported types.  
 <a href="interfacehdf5__utils__mpi_1_1hdf__write__dataset.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Generic interface to write a dataset Supported types. </p>
<ul>
<li>integers (scalar and 1d-6d arrays)</li>
<li>doubles (scalar and 1d-6d arrays)</li>
<li>reals (scalar and 1d-6d arrays)</li>
<li>string (scalar and 1d-2d arrays)</li>
<li>complex double number (compound data type, "r"/"i" for real and imaginary part, scalar and 1d-6d arrays)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">loc_id</td><td>local id in file, e.g. file_id, group_id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dset_name</td><td>name of dataset, NOTE: HDF5 assumes the dataset doesn't exist before !! </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">array</td><td>data array to be written </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chunks</td><td>(optional, deprecated) chunk size for dataset </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filter</td><td>(optional, deprecated) filter to use ('none', 'szip', 'gzip', 'gzip+shuffle') </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">processor</td><td>(optional, default=-1) processor that provides the data, -1 if the data is the same on all processors.</td></tr>
  </table>
  </dd>
</dl>
<p>if processor != -1, the following options become useless </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">axis</td><td>(optional, default=-1) dimension on which the data will be stacked, starting from 1</td></tr>
  </table>
  </dd>
</dl>
<ul>
<li>a variable with the name "num_reacts". All processors have the same data. We only want one copy saved in the final file call <a class="el" href="interfacehdf5__utils__mpi_1_1hdf__write__dataset.html" title="Generic interface to write a dataset Supported types.">hdf_write_dataset</a>(file_id, "num_reacts", num_reacts)</li>
<li>a variable with the name "num_reacts_0". All processors have this variable but different shape and content. we only want to save the copy on processor 0 (first processor) call <a class="el" href="interfacehdf5__utils__mpi_1_1hdf__write__dataset.html" title="Generic interface to write a dataset Supported types.">hdf_write_dataset</a>(file_id, "num_reacts_0", num_reacts_0, processor=0)</li>
<li>a scalar variable with the name "num_particle". All processors have this variable with different values. We want to save all of them. call <a class="el" href="interfacehdf5__utils__mpi_1_1hdf__write__dataset.html" title="Generic interface to write a dataset Supported types.">hdf_write_dataset</a>(file_id, "num_particle", num_particle, axis=1) (Note: the result of this call is an array with its size equal to the number of processors will be save to the hdf5 file. If you want to add them up and then save the result, you need to do the calculation by yourself)</li>
<li>an array "x_loc(XSIZE, YSIZE, ZSIZE)". All processors have this variable with different values. In addition, the meaningful data is not the whole array but "x_loc(xstart:xend, ystart:yend, 1:num)" (xstart, xend, ystart, yend are the same across processors but num is has different values on each processor). To stack the variable on the third dimension, use the following call. The API will set hyperslab based on the shape of array provided call <a class="el" href="interfacehdf5__utils__mpi_1_1hdf__write__dataset.html" title="Generic interface to write a dataset Supported types.">hdf_write_dataset</a>(file_id, "x_loc", x_loc(xstart:xend, ystart:yend, 1:num), axis=3) The function will also save the number of rows contributed by each processor as an attribute. </li>
</ul>
</div><hr/>The documentation for this interface was generated from the following file:<ul>
<li>/home/hluo171851/Git/HDF5_utils/hdf5_utils_mpi.f90</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
